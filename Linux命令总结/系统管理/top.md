top
=========

* 功能说明：显示，管理执行中的程序。

语法：
```
top [bciqsS][d <间隔秒数>][n <执行次数>]
```
补充说明：执行top指令可显示目前正在系统中执行的程序，并通过它所提供的互动式界面，用热键加以管理。


```
root@hhf:~# top
top - 21:13:07 up 2 days, 23:48,  1 user,  load average: 0.00, 0.01, 0.05
Tasks:  84 total,   2 running,  82 sleeping,   0 stopped,   0 zombie
%Cpu(s):  0.3 us,  0.3 sy,  0.0 ni, 98.0 id,  1.3 wa,  0.0 hi,  0.0 si,  0.0 st
KiB Mem:   1017832 total,   740896 used,   276936 free,    75284 buffers
KiB Swap:        0 total,        0 used,        0 free.   417872 cached Mem

  PID USER      PR  NI    VIRT    RES    SHR S %CPU %MEM     TIME+ COMMAND                                                                                                                    
    1 root      20   0   33568   2656   1260 S  0.0  0.3   0:01.36 init                                                                                                                       
    2 root      20   0       0      0      0 S  0.0  0.0   0:00.00 kthreadd                                                                                                                   
    3 root      20   0       0      0      0 S  0.0  0.0   0:00.99 ksoftirqd/0                                                                                                                
    5 root       0 -20       0      0      0 S  0.0  0.0   0:00.00 kworker/0:0H                                                                                                               
    6 root      20   0       0      0      0 S  0.0  0.0   0:00.00 kworker/u2:0                                                                                                               
    7 root      20   0       0      0      0 S  0.0  0.0   0:04.25 rcu_sched   
    ……                   
```

前五行是系统整体的统计信息。

* 第一行是任务队列信息，同 uptime 命令的执行结果:
    - 21:13:07: 当前时间
    - up 2 days, 23:48: 运行了2天23小时48分
    - 1 user: 当前登录1个用户  
    - load average: 0.00, 0.01, 0.05    1-5-15分钟系统平均负载

* 第二行为进程的信息：
    - 2 running   正在运行的进程数
    - 82 sleeping 睡眠的进程数
    - 0 stopped   停止的进程数
    - 0 zombie    僵尸进程数
* 第三行为 CPU,当有多个CPU时，这些内容可能会超过一行:
    - 0.3  us   用户空间占用CPU百分比
    - 0.3  sy   内核空间占用CPU百分比
    - 0.0  ni   用户进程空间内改变过优先级的进程占用CPU百分比
    - 98.0 id   空闲CPU百分比
    - 1.3  wa   等待输入输出的CPU时间百分比
    - 0.0  hi   处理硬件终端所占时间的百分比(Hardware IRQ)
    - 0.0  si   处理软件终端所占时间的百分比(Software IRQ)
* 第四行为物理内存信息
    - 1017832 total 物理内存总量
    - 740896 used 使用的物理内存总量
    - 276936 free 空闲内存总量
    - 75284 buffers 用作内核缓存的内存量
* 第五行为交换内存信息 
    - 0 total 交换区总量
    - 0k used 使用的交换区总量
    - 0 used 空闲交换区总量
    - 417872 cached 缓冲的交换区总量。

内存中的内容被换出到交换区，而后又被换入到内存，但使用过的交换区尚未被覆盖，
该数值即为这些内容已存在于内存中的交换区的大小。
相应的内存再次被换出时可不必再对交换区写入。


* top运行界面交互:
    - h 或者? 显示帮助画面，给出一些简短的命令总结说明。
    - k 终止一个进程。系统将提示用户输入需要终止的进程PID，以及需要发送给该进程什么样的信号。一般的终止进程可以使用15信号；如果不能正常结束那就使用信号9强制结束该进程。默认值是信号15。在安全模式中此命令被屏蔽。
    - i 忽略闲置和僵死进程。这是一个开关式命令。
    - q 退出程序。
    - r 重新安排一个进程的优先级别。系统提示用户输入需要改变的进程PID以及需要设置的进* 程优先级值。输入一个正值将使优先级降低，反之则可以使该进程拥有更高的优先权。默认值是10。
    - S 切换到累计模式。
    - s 改变两次刷新之间的延迟时间。系统将提示用户输入新的时间，单位为s。如果有小数，就换算成m s。输入0值则系统将不断刷新，默认值是5 s。需要注意的是如果设置太小的时间，很可能会引起不断刷新，从而根本来不及看清显示的情况，而且系统负载也会大大增加。
    - f或者F 从当前显示中添加或者删除项目。
    - o或者O 改变显示项目的顺序。
    - l 切换显示平均负载和启动时间信息。
    - m 切换显示内存信息。
    - t 切换显示进程和CPU状态信息。
    - c 切换显示命令名称和完整命令行。
    - M 根据驻留内存大小进行排序。
    - P 根据CPU使用百分比大小进行排序。
    - T 根据时间/累计时间进行排序。


* 参数:
    - b 　使用批处理模式。 
    - c 　列出程序时，显示每个程序的完整指令，包括指令名称，路径和参数等相关信息。 
    - d<间隔秒数> 　设置top监控程序执行状况的间隔时间，单位以秒计算。 
    - i 　执行top指令时，忽略闲置或是已成为Zombie的程序。 
    - n<执行次数> 　设置监控信息的更新次数。 
    - q 　持续监控程序执行的状况。 
    - s 　使用保密模式，消除互动模式下的潜在危机。 
    - S 　使用累计模式，其效果类似ps指令的"-S"参数。

常用:


相关命令:
```
free(1), ps(1), uptime(1), atop(1), slabtop(1), vmstat(8), w(1).
```
